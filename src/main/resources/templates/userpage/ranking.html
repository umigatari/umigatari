<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ランキング</title>
    <link rel="stylesheet" href="/css/userpage/ranking.css">
</head>
<body>
    <div class="header">
        <img src="/img/umigatari.png" alt="umigatarilogo">
        <img src="/img/batu.png" alt="batu">
        <img src="/img/jjc.png" alt="jjclogo">
        <div class="menu-icon" id="menu-icon">≡</div>
    </div>

    <h1 class="ranking-title">ランキング</h1>

    <div class="ranking-container">
        <!-- ランキング表示 -->
        <div th:each="account, stat : ${ranking}" class="ranking-item">
                <div class="ranking-number-container">
                    <p class="ranking-label">No.</p>
                    <div class="ranking-number" th:text="${stat.index + 1}">1</div>
                </div>
                <div class="ranking-content">
                    <div class="ranking-text">
                        <p class="ranking-category">
                            累計正解数：<span class="ranking-category" th:text="${account.count}">0</span>
                        </p>
                        <h2 class="ranking-title-text" th:text="${account.name}">ユーザー名</h2>
                        <hr>
                    </div>
                </div>
            </div>
            

        <!-- 自分のランキング表示 -->
        <div class="ranking-item">
            <div class="ranking-number">my</div>
            <div class="ranking-content">
                <div class="ranking-text">
                    <p class="ranking-category">My Ranking</p>
                    <h2 class="ranking-title-text" th:text="'あなたの順位: ' + ${myranking}">自分の順位は何位です</h2>
                </div>
            </div>
        </div>
    <div class="stamp-button-container">
        <form action="/stamp" method="get">
            <button type="submit" class="stamp-button">
                <span class="stamp-button-text">TOPページへ</span>
                <svg class="stamp-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
            </button>
        </form>
    </div>
</div>

    <div class="dropdown-menu" id="dropdown-menu">
        <button id="closePopup" class="close-btn">×</button>
        <a href="/rule"><img src="/img/rule.png" alt="ルール" class="icon">ルール</a>
        <a href="/reward"><img src="/img/reward.png" alt="プレゼント" class="icon">プレゼント</a>
        <a href="/ranking"><img src="/img/ranking.png" alt="ランキング" class="icon">ランキング</a>
        <a href="/quiz/createpage"><img src="/img/createquiz.png" alt="クイズ作成" class="icon">クイズ作成</a>
        <span><img src="/img/account.png" alt="アカウント" class="icon">アカウント</span>
        <span th:text="'ニックネーム: ' + ${account}">ニックネーム</span>
        <span id="logout-link" class="action-link">ログアウト</span>
        <span id="delete-link" class="action-link">アカウント削除</span>
    </div>

    <div id="logout-popup" class="popup">
        <div class="popup-content">
            <p>ログアウトしますか？</p>
            <button id="confirm-logout-yes">はい</button>
            <button id="confirm-logout-no">いいえ</button>
        </div>
    </div>

    <div id="delete-popup" class="popup">
        <div class="popup-content">
            <p>アカウントは完全に削除されますが<br>よろしいですか？</p>
            <button id="confirm-delete-yes">はい</button>
            <button id="confirm-delete-no">いいえ</button>
        </div>
    </div>

    <div id="final-delete-popup" class="popup">
        <div class="popup-content">
            <p>本当に削除しますか？</p>
            <button id="confirm-final-delete-yes">はい</button>
            <button id="confirm-final-delete-no">いいえ</button>
        </div>
    </div>

    <script src="/js/dropdown.js"></script>
</body>
</html>
