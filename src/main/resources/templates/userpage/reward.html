<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/userpage/reward.css">
    <title>報酬ページ</title>
</head>
<body>
    <div class="header">
        <img src="/img/umigatari.png" alt="umigatarilogo">
        <img src="/img/batu.png" alt="batu">
        <img src="/img/jjc.png" alt="jjclogo">
        <div class="menu-icon" id="menu-icon">≡</div>
    </div>
    <div class="info">
        <p class="headline" data-target="about">説明</p>
        <div id="about" class="content">
            <p>累計正答数が **3問、5問、7問、9問、11問** と達成するごとに、可愛い海洋生物たちの画像をプレゼント！</p>
            <p>以下から、ポイント数に応じた画像を長押ししてしてダウンロードしてください。</p>
        </div>
    </div>
    <h2 th:text="'現在のポイント: ' + ${count}">現在のポイント:7</h2>

    <div>
        <div class="image-slider" data-count="5">
            <div class="image-item" >
                <img src="/img/1.png" alt="画像1" width="200" class="image"
                    th:style="${count >= 3} ? 'filter: none;' : 'filter: blur(15px);'">
                <p th:if="${count < 3}" th:text="'あと ' + (3 - ${count}) + ' 問でこの画像をゲット！'">あと3問で画像をゲット！</p>
            </div>
            <div class="image-item" >
                <img src="/img/2.png" alt="画像2" width="200" class="image"
                    th:style="${count >= 5} ? 'filter: none;' : 'filter: blur(15px);'">
                <p th:if="${count < 5}" th:text="'あと ' + (5 - ${count}) + ' 問でこの画像をゲット！'">あと5問で画像をゲット！</p>
            </div>
            <div class="image-item" >
                <img src="/img/3.png" alt="画像3" width="200" class="image"
                    th:style="${count >= 7} ? 'filter: none;' : 'filter: blur(15px);'">
                <p th:if="${count < 7}" th:text="'あと ' + (7 - ${count}) + ' 問でこの画像をゲット！'">あと7問で画像をゲット！</p>
            </div>
            <div class="image-item" >
                <img src="/img/4.png" alt="画像4" width="200" class="image"
                    th:style="${count >= 9} ? 'filter: none;' : 'filter: blur(15px);'">
                <p th:if="${count < 9}" th:text="'あと ' + (9 - ${count}) + ' 問でこの画像をゲット！'">あと9問で画像をゲット！</p>
            </div>
            <div class="image-item" >
                <img src="/img/5.png" alt="画像5" width="200" class="image"
                    th:style="${count >= 11} ? 'filter: none;' : 'filter: blur(15px);'">
                <p th:if="${count < 11}" th:text="'あと ' + (11 - ${count}) + ' 問でこの画像をゲット！'">あと11問で画像をゲット！</p>
            </div>
        </div>
        <div class="stamp-button-container">
            <form action="/stamp" method="get">
                <button type="submit" class="stamp-button">
                    <span class="stamp-button-text">TOPページへ</span>
                    <svg class="stamp-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </button>
            </form>
        </div>
    
    <div class="dropdown-menu" id="dropdown-menu">
        <button id="closePopup" class="close-btn">×</button>
        <a href="/rule">
            <img src="/img/rule.png" alt="ルール" class="icon">
            ルール
        </a>
        <a href="/reward">
            <img src="/img/reward.png" alt="プレゼント" class="icon">
            プレゼント
        </a>
        <a href="/ranking">
            <img src="/img/ranking.png" alt="ランキング" class="icon">
            ランキング
        </a>
        <a href="/quiz/createpage">
            <img src="/img/createquiz.png" alt="クイズ作成" class="icon">
            クイズ作成
        </a>
        <span>
            <img src="/img/account.png" alt="アカウント" class="icon">
            アカウント
        </span>
        <span th:text="'ニックネーム: ' + ${account} ">ニックネーム</span>
        <span id="logout-link" class="action-link">ログアウト</span>
        <span id="delete-link" class="action-link">アカウント削除</span>
    </div>
    
    <div id="logout-popup" class="popup">
        <div class="popup-content">
            <p>ログアウトしますか？</p>
            <button id="confirm-logout-yes">はい</button>
            <button id="confirm-logout-no">いいえ</button>
    </div>
    </div>

    <div id="delete-popup" class="popup">
        <div class="popup-content">
            <p>アカウントは完全に削除されますが<br>よろしいですか？</p>
            <button id="confirm-delete-yes">はい</button>
            <button id="confirm-delete-no">いいえ</button>
    </div>
    </div>

    <div id="final-delete-popup" class="popup">
        <div class="popup-content">
            <p>本当に削除しますか？</p>
            <button id="confirm-final-delete-yes">はい</button>
            <button id="confirm-final-delete-no">いいえ</button>
    </div>
    </div>
    <img src="/img/chara.png" alt="character" class="character">
    <script src="/js/reward.js"></script>
    <script src="/js/dropdown.js"></script>
</body>
</html>
